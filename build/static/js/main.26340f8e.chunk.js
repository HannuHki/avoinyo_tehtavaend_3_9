(this.webpackJsonpharjoittelu2_11=this.webpackJsonpharjoittelu2_11||[]).push([[0],{20:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var c=n(0),o=n(1),r=n(14),a=n.n(r),s=(n(20),n(3)),l=n(4),i=n.n(l);var u="/api/persons",j=function(e){return i.a.post(u,e).then((function(e){return e.data}))},b=function(e){var t=e.message;return null===t?null:Object(c.jsx)("div",{className:"error",children:t})},d=(n.p,n(38),Object.freeze({username:"",password:"moi"})),h=function(){return Object(c.jsxs)("div",{style:{color:"green",fontStyle:"italic",fontSize:16},children:[Object(c.jsx)("br",{}),Object(c.jsx)("em",{children:"Note app, Department of Computer Science, University of Helsinki 2020"})]})};var f=function(){var e=Object(o.useState)([]),t=Object(s.a)(e,2),n=t[0],r=t[1],a=Object(o.useState)([]),l=Object(s.a)(a,2),u=(l[0],l[1],Object(o.useState)("")),f=Object(s.a)(u,2),O=f[0],p=f[1],m=Object(o.useState)(""),v=Object(s.a)(m,2),g=v[0],x=v[1],S=Object(o.useState)(!0),k=Object(s.a)(S,2),y=k[0],C=(k[1],Object(o.useState)(d)),E=Object(s.a)(C,2),w=(E[0],E[1],Object(o.useState)(null)),A=Object(s.a)(w,2),D=A[0],N=A[1];Object(o.useEffect)((function(){console.log("effect"),i.a.get("http://localhost:3001/api/persons").then((function(e){console.log("promise fulfilled");var t=e.data;console.log("anxios get: ",t),r(e.data)}))}),[]),console.log("render",n.length,"persons");var z=function(e){e.preventDefault();var t={name:O,number:g,id:n.length+1};N("Added person "+O),setTimeout((function(){N(null)}),5e3),j(t).then((function(e){r(n.concat(e)),console.log("addPerson... ",O),p(""),x("")}))},J=n.map((function(e){return e.name}));return y||n.filter((function(e){return e.important})),Object(c.jsxs)("div",{children:[Object(c.jsx)("h1",{children:"Persons"}),Object(c.jsx)("h2",{children:D}),Object(c.jsx)(b,{message:D}),Object(c.jsx)("ul",{children:n.map((function(e){return Object(c.jsxs)("li",{children:[e.name,Object(c.jsxs)("button",{onClick:function(){return t=e.id,void fetch("http://localhost:3000/persons/"+t,{method:"DELETE"}).then((function(e){return e.json()})).then((function(e){alert("tuhottu",t)}));var t},children:["delete ",e.name]})]})}))}),Object(c.jsxs)("form",{onSubmit:z,children:["Add name:",Object(c.jsx)("input",{value:O,onChange:function(e){console.log(e.target.value);var t=0;do{J[t]===e.target.value&&alert("Name is already added"),t+=1}while(t<J.length);p(e.target.value)}}),Object(c.jsxs)("label",{children:["Add number:",Object(c.jsx)("input",{value:g,onChange:function(e){console.log(e.target.value),x(e.target.value)}})]})]}),Object(c.jsx)("button",{onClick:z,children:"save"}),Object(c.jsx)("h5",{children:"..."}),Object(c.jsx)(h,{})]})};a.a.render(Object(c.jsx)(f,{}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.26340f8e.chunk.js.map