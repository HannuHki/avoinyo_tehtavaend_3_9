(this.webpackJsonpharjoittelu2_11=this.webpackJsonpharjoittelu2_11||[]).push([[0],{20:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var o=n(0),c=n(1),a=n(14),r=n.n(a),s=(n(20),n(3)),u=n(4),i=n.n(u);var l="https://hannu-avoinyo-tehtavaend-3-9.herokuapp.com/api/persons",j=function(e){return i.a.post(l,e).then((function(e){return e.data}))},d=function(e){var t=e.message;return null===t?null:Object(o.jsx)("div",{className:"error",children:t})},h=(n.p,n(38),Object.freeze({username:"",password:"moi"})),b=function(){return Object(o.jsxs)("div",{style:{color:"green",fontStyle:"italic",fontSize:16},children:[Object(o.jsx)("br",{}),Object(o.jsx)("em",{children:"Note app, Department of Computer Science, University of Helsinki 2020"})]})};var f=function(){var e=Object(c.useState)([]),t=Object(s.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)([]),u=Object(s.a)(r,2),l=(u[0],u[1],Object(c.useState)("")),f=Object(s.a)(l,2),O=f[0],p=f[1],m=Object(c.useState)(""),v=Object(s.a)(m,2),g=v[0],x=v[1],S=Object(c.useState)(!0),k=Object(s.a)(S,2),y=k[0],C=(k[1],Object(c.useState)(h)),E=Object(s.a)(C,2),w=(E[0],E[1],Object(c.useState)(null)),A=Object(s.a)(w,2),D=A[0],N=A[1];Object(c.useEffect)((function(){console.log("effect"),i.a.get("https://hannu-avoinyo-tehtavaend-3-9.herokuapp.com/api/persons").then((function(e){console.log("promise fulfilled");var t=e.data;console.log("anxios get: ",t),a(e.data)}))}),[]),console.log("render",n.length,"persons");var z=function(e){e.preventDefault();var t={name:O,number:g,id:n.length+1};N("Added person "+O),setTimeout((function(){N(null)}),5e3),j(t).then((function(e){a(n.concat(e)),console.log("addPerson... ",O),p(""),x("")}))},J=n.map((function(e){return e.name}));return y||n.filter((function(e){return e.important})),Object(o.jsxs)("div",{children:[Object(o.jsx)("h1",{children:"Persons"}),Object(o.jsx)("h2",{children:D}),Object(o.jsx)(d,{message:D}),Object(o.jsx)("ul",{children:n.map((function(e){return Object(o.jsxs)("li",{children:[e.name,Object(o.jsxs)("button",{onClick:function(){return t=e.id,void fetch("http://localhost:3000/persons/"+t,{method:"DELETE"}).then((function(e){return e.json()})).then((function(e){alert("tuhottu",t)}));var t},children:["delete ",e.name]})]})}))}),Object(o.jsxs)("form",{onSubmit:z,children:["Add name:",Object(o.jsx)("input",{value:O,onChange:function(e){console.log(e.target.value);var t=0;do{J[t]===e.target.value&&alert("Name is already added"),t+=1}while(t<J.length);p(e.target.value)}}),Object(o.jsxs)("label",{children:["Add number:",Object(o.jsx)("input",{value:g,onChange:function(e){console.log(e.target.value),x(e.target.value)}})]})]}),Object(o.jsx)("button",{onClick:z,children:"save"}),Object(o.jsx)("h5",{children:"..."}),Object(o.jsx)(b,{})]})};r.a.render(Object(o.jsx)(f,{}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.77127391.chunk.js.map